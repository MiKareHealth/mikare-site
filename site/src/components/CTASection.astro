---
/**
 * CTASection Component
 *
 * A reusable call-to-action section with gradient background.
 * Replaces the repeated CTA block pattern across pages.
 *
 * @prop {string} title - The CTA heading text (default: "Ready to Transform Your Health Journey?")
 * @prop {string} description - The CTA description text
 * @prop {string} primaryButtonText - Text for the primary button (default: "Get Started")
 * @prop {string} primaryButtonHref - URL for the primary button (default: "/mikareapp")
 * @prop {string} secondaryButtonText - Optional text for a secondary button
 * @prop {string} secondaryButtonHref - URL for the secondary button
 */

import Button from './Button.astro';

interface Props {
  title?: string;
  description?: string;
  primaryButtonText?: string;
  primaryButtonHref?: string;
  secondaryButtonText?: string;
  secondaryButtonHref?: string;
}

const {
  title = "Take Charge of Your Health",
  description = "Join MiKare Health today and empower yourself with the tools needed to manage your health and wellbeing effectively.",
  primaryButtonText = "Get Started",
  primaryButtonHref = "/mikareapp",
  secondaryButtonText,
  secondaryButtonHref,
} = Astro.props;
---

<section class="section">
  <div class="container">
    <div class="cta">
      <h2 class="cta__title">{title}</h2>
      <p class="cta__text">{description}</p>
      <div class="cta__actions">
        <Button href={primaryButtonHref} variant="primary" class="cta__btn">
          {primaryButtonText}
        </Button>
        {secondaryButtonText && secondaryButtonHref && (
          <Button href={secondaryButtonHref} variant="secondary" class="cta__btn cta__btn--secondary">
            {secondaryButtonText}
          </Button>
        )}
      </div>
    </div>
  </div>
</section>

<style>
  .cta {
    background: var(--cta-gradient);
    padding: var(--space-20);
    border-radius: var(--radius-2xl);
    text-align: center;
  }

  .cta__title {
    color: var(--cta-text);
    margin-bottom: var(--space-4);
  }

  .cta__text {
    color: rgba(255, 255, 255, 0.95); /* Increased for WCAG AA contrast */
    margin-bottom: var(--space-8);
    margin-inline: auto;
    max-width: 600px;
  }

  :global([data-theme="dark"]) .cta__text {
    color: rgba(0, 0, 0, 0.87); /* Increased for WCAG AA contrast on teal */
  }

  .cta__actions {
    display: flex;
    gap: var(--space-4);
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Override button styles within CTA */
  .cta :global(.cta__btn.btn--primary) {
    background: var(--bg);
    color: var(--text);
  }

  .cta :global(.cta__btn.btn--primary:hover) {
    background: var(--bg-secondary);
    box-shadow: var(--shadow-xl);
  }

  .cta :global(.cta__btn--secondary) {
    border-color: rgba(255, 255, 255, 0.4);
    color: var(--cta-text);
  }

  .cta :global(.cta__btn--secondary:hover) {
    border-color: rgba(255, 255, 255, 0.8);
    background: rgba(255, 255, 255, 0.1);
    color: var(--cta-text);
  }

  :global([data-theme="dark"]) .cta :global(.cta__btn--secondary) {
    border-color: rgba(0, 0, 0, 0.3);
    color: var(--cta-text);
  }

  :global([data-theme="dark"]) .cta :global(.cta__btn--secondary:hover) {
    border-color: rgba(0, 0, 0, 0.5);
    background: rgba(0, 0, 0, 0.1);
  }

  @media (max-width: 768px) {
    .cta {
      padding: var(--space-12);
    }
  }
</style>
